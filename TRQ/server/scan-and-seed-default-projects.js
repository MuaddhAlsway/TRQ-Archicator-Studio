import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';
import db from './database.js';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const projectsDir = path.join(__dirname, '../public/TRQ STUDIO _ PROJECTS');

// Project metadata mapping - extracted from folder structure
const projectsMetadata = {
  'PAWS & PARTNERS': {
    title: 'PAWS & PARTNERS',
    title_ar: 'الكفوف والشركاء',
    category: 'residential',
    category_ar: 'سكني',
    subcategory: 'Interior Design',
    subcategory_ar: 'تصميم داخلي',
    description: 'A sophisticated residential design project combining elegance with comfort.',
    description_ar: 'مشروع تصميم سكني متطور يجمع بين الأناقة والراحة.',
    year: '2024',
    client: 'Private Client',
    client_ar: 'عميل خاص',
    location: 'Riyadh, Saudi Arabia',
    location_ar: 'الرياض، المملكة العربية السعودية',
    size: '450 sqm',
    size_ar: '450 متر مربع',
    duration: '5 months',
    duration_ar: '5 أشهر',
    challenge: 'Creating a harmonious living space that reflects the client\'s lifestyle',
    challenge_ar: 'إنشاء مساحة معيشية متناسقة تعكس نمط حياة العميل',
    solution: 'Integrated modern design with traditional elements for a balanced aesthetic',
    solution_ar: 'دمج التصميم الحديث مع العناصر التقليدية لتحقيق جماليات متوازنة',
    features: ['Open floor plan', 'Modern furnishings', 'Ambient lighting', 'Smart storage'],
    features_ar: ['مخطط مفتوح', 'أثاث حديث', 'إضاءة محيطة', 'تخزين ذكي'],
    materials: ['Marble', 'Wood', 'Glass', 'Steel'],
    materials_ar: ['رخام', 'خشب', 'زجاج', 'فولاذ'],
    awards: [],
    awards_ar: [],
    team: ['Lead Designer: Sarah Al-Mutairi', 'Project Manager: Ahmed Hassan'],
    team_ar: ['المصمم الرئيسي: سارة المطيري', 'مدير المشروع: أحمد حسن'],
    clientQuote: 'TRQ transformed our house into a beautiful home.',
    clientQuote_ar: 'حولت TRQ منزلنا إلى بيت جميل.',
    clientName: 'Private Client',
    clientName_ar: 'عميل خاص',
  },
  'A Fusion of Art and Elegance  Living room': {
    title: 'A Fusion of Art and Elegance',
    title_ar: 'اندماج الفن والأناقة',
    category: 'residential',
    category_ar: 'سكني',
    subcategory: 'Living Room Design',
    subcategory_ar: 'تصميم غرفة المعيشة',
    description: 'Luxurious living room design blending artistic elements with elegant aesthetics.',
    description_ar: 'تصميم غرفة معيشة فاخرة يمزج العناصر الفنية مع الجماليات الأنيقة.',
    year: '2024',
    client: 'Private Client',
    client_ar: 'عميل خاص',
    location: 'Riyadh, Saudi Arabia',
    location_ar: 'الرياض، المملكة العربية السعودية',
    size: '80 sqm',
    size_ar: '80 متر مربع',
    duration: '3 months',
    duration_ar: '3 أشهر',
    challenge: 'Incorporating art pieces while maintaining functional living space',
    challenge_ar: 'دمج الأعمال الفنية مع الحفاظ على مساحة معيشية وظيفية',
    solution: 'Strategic placement of art with complementary furniture and lighting design',
    solution_ar: 'وضع استراتيجي للفن مع أثاث متكامل وتصميم إضاءة',
    features: ['Art gallery wall', 'Custom seating', 'Accent lighting', 'Statement pieces'],
    features_ar: ['جدار معرض فني', 'جلوس مخصص', 'إضاءة لهجة', 'قطع بيان'],
    materials: ['Marble', 'Velvet', 'Brass', 'Wood'],
    materials_ar: ['رخام', 'مخمل', 'نحاس', 'خشب'],
    awards: [],
    awards_ar: [],
    team: ['Lead Designer: Nora Al-Fahad'],
    team_ar: ['المصمم الرئيسي: نورا الفهد'],
    clientQuote: 'Our living room is now a masterpiece.',
    clientQuote_ar: 'غرفة معيشتنا الآن تحفة فنية.',
    clientName: 'Private Client',
    clientName_ar: 'عميل خاص',
  },
};

  'ALULAH': {
    title: 'ALULAH',
    title_ar: 'العلا',
    category: 'commercial',
    category_ar: 'تجاري',
    subcategory: 'Retail Design',
    subcategory_ar: 'تصميم البيع بالتجزئة',
    description: 'Modern retail space design showcasing brand identity and customer experience.',
    description_ar: 'تصميم مساحة بيع بالتجزئة حديثة يعرض هوية العلامة التجارية وتجربة العميل.',
    year: '2024',
    client: 'ALULAH Brand',
    client_ar: 'علامة العلا',
    location: 'Riyadh, Saudi Arabia',
    location_ar: 'الرياض، المملكة العربية السعودية',
    size: '300 sqm',
    size_ar: '300 متر مربع',
    duration: '4 months',
    duration_ar: '4 أشهر',
    challenge: 'Creating an immersive retail environment that reflects brand values',
    challenge_ar: 'إنشاء بيئة بيع بالتجزئة غامرة تعكس قيم العلامة التجارية',
    solution: 'Custom displays, strategic lighting, and intuitive customer flow',
    solution_ar: 'عروض مخصصة وإضاءة استراتيجية وتدفق عملاء بديهي',
    features: ['Custom displays', 'Interactive zones', 'Premium lighting', 'Brand integration'],
    features_ar: ['عروض مخصصة', 'مناطق تفاعلية', 'إضاءة فاخرة', 'تكامل العلامة التجارية'],
    materials: ['Wood', 'Glass', 'LED panels', 'Marble'],
    materials_ar: ['خشب', 'زجاج', 'لوحات LED', 'رخام'],
    awards: [],
    awards_ar: [],
    team: ['Lead Designer: Sarah Al-Mutairi', 'Retail Specialist: Fatima Al-Dosari'],
    team_ar: ['المصمم الرئيسي: سارة المطيري', 'متخصص البيع بالتجزئة: فاطمة الدوسري'],
    clientQuote: 'The space perfectly captures our brand essence.',
    clientQuote_ar: 'تعكس المساحة جوهر علامتنا التجارية بشكل مثالي.',
    clientName: 'ALULAH Brand',
    clientName_ar: 'علامة العلا',
  },
  'ARYASH AL-DRIIYAH': {
    title: 'ARYASH AL-DRIIYAH',
    title_ar: 'أريش الدرعية',
    category: 'commercial',
    category_ar: 'تجاري',
    subcategory: 'Heritage Design',
    subcategory_ar: 'تصميم التراث',
    description: 'Heritage-inspired commercial space celebrating Saudi cultural identity.',
    description_ar: 'مساحة تجارية مستوحاة من التراث تحتفي بالهوية الثقافية السعودية.',
    year: '2024',
    client: 'Diriyah Development Authority',
    client_ar: 'هيئة تطوير الدرعية',
    location: 'Diriyah, Saudi Arabia',
    location_ar: 'الدرعية، المملكة العربية السعودية',
    size: '500 sqm',
    size_ar: '500 متر مربع',
    duration: '6 months',
    duration_ar: '6 أشهر',
    challenge: 'Blending traditional heritage with modern commercial functionality',
    challenge_ar: 'دمج التراث التقليدي مع الوظيفة التجارية الحديثة',
    solution: 'Integrated traditional architectural elements with contemporary design',
    solution_ar: 'دمج العناصر المعمارية التقليدية مع التصميم المعاصر',
    features: ['Heritage elements', 'Modern amenities', 'Cultural displays', 'Visitor experience'],
    features_ar: ['عناصر تراثية', 'وسائل حديثة', 'عروض ثقافية', 'تجربة الزائر'],
    materials: ['Traditional stone', 'Wood', 'Brass', 'Ceramic tiles'],
    materials_ar: ['حجر تقليدي', 'خشب', 'نحاس', 'بلاط سيراميك'],
    awards: [],
    awards_ar: [],
    team: ['Lead Designer: Ahmed Al-Rashid', 'Heritage Consultant: Dr. Noor Al-Saud'],
    team_ar: ['المصمم الرئيسي: أحمد الراشد', 'مستشار التراث: د. نور آل سعود'],
    clientQuote: 'A perfect representation of our heritage and vision.',
    clientQuote_ar: 'تمثيل مثالي لتراثنا ورؤيتنا.',
    clientName: 'Diriyah Development Authority',
    clientName_ar: 'هيئة تطوير الدرعية',
  },
  'CLASSIC BEDROOM': {
    title: 'CLASSIC BEDROOM',
    title_ar: 'غرفة النوم الكلاسيكية',
    category: 'residential',
    category_ar: 'سكني',
    subcategory: 'Bedroom Design',
    subcategory_ar: 'تصميم غرفة النوم',
    description: 'Timeless bedroom design combining classical elegance with modern comfort.',
    description_ar: 'تصميم غرفة نوم خالد يجمع بين الأناقة الكلاسيكية والراحة الحديثة.',
    year: '2023',
    client: 'Private Client',
    client_ar: 'عميل خاص',
    location: 'Riyadh, Saudi Arabia',
    location_ar: 'الرياض، المملكة العربية السعودية',
    size: '60 sqm',
    size_ar: '60 متر مربع',
    duration: '2 months',
    duration_ar: 'شهرين',
    challenge: 'Creating a serene retreat with classical design elements',
    challenge_ar: 'إنشاء ملاذ هادئ مع عناصر تصميم كلاسيكية',
    solution: 'Soft color palette, elegant furnishings, and ambient lighting',
    solution_ar: 'لوحة ألوان ناعمة وأثاث أنيق وإضاءة محيطة',
    features: ['Custom bed frame', 'Elegant furnishings', 'Soft lighting', 'Storage solutions'],
    features_ar: ['إطار سرير مخصص', 'أثاث أنيق', 'إضاءة ناعمة', 'حلول التخزين'],
    materials: ['Mahogany wood', 'Silk fabrics', 'Crystal fixtures', 'Marble accents'],
    materials_ar: ['خشب الماهوجني', 'أقمشة حريرية', 'تركيبات كريستالية', 'لمسات رخامية'],
    awards: [],
    awards_ar: [],
    team: ['Lead Designer: Nora Al-Fahad'],
    team_ar: ['المصمم الرئيسي: نورا الفهد'],
    clientQuote: 'A peaceful sanctuary for rest and relaxation.',
    clientQuote_ar: 'ملاذ سلمي للراحة والاسترخاء.',
    clientName: 'Private Client',
    clientName_ar: 'عميل خاص',
  },
  'DIRIYAH MARKET': {
    title: 'DIRIYAH MARKET',
    title_ar: 'سوق الدرعية',
    category: 'commercial',
    category_ar: 'تجاري',
    subcategory: 'Market Design',
    subcategory_ar: 'تصميم السوق',
    description: 'Traditional market design preserving cultural heritage with modern amenities.',
    description_ar: 'تصميم سوق تقليدي يحافظ على التراث الثقافي مع وسائل حديثة.',
    year: '2024',
    client: 'Diriyah Development Authority',
    client_ar: 'هيئة تطوير الدرعية',
    location: 'Diriyah, Saudi Arabia',
    location_ar: 'الدرعية، المملكة العربية السعودية',
    size: '2000 sqm',
    size_ar: '2000 متر مربع',
    duration: '8 months',
    duration_ar: '8 أشهر',
    challenge: 'Balancing traditional market atmosphere with contemporary functionality',
    challenge_ar: 'موازنة أجواء السوق التقليدية مع الوظيفة المعاصرة',
    solution: 'Preserved traditional architecture with integrated modern infrastructure',
    solution_ar: 'الحفاظ على العمارة التقليدية مع البنية التحتية الحديثة المدمجة',
    features: ['Traditional layout', 'Modern utilities', 'Vendor spaces', 'Customer areas'],
    features_ar: ['تخطيط تقليدي', 'مرافق حديثة', 'مساحات البائعين', 'مناطق العملاء'],
    materials: ['Traditional stone', 'Wood', 'Ceramic', 'Natural materials'],
    materials_ar: ['حجر تقليدي', 'خشب', 'سيراميك', 'مواد طبيعية'],
    awards: [],
    awards_ar: [],
    team: ['Lead Designer: Ahmed Al-Rashid', 'Heritage Specialist: Dr. Noor Al-Saud'],
    team_ar: ['المصمم الرئيسي: أحمد الراشد', 'متخصص التراث: د. نور آل سعود'],
    clientQuote: 'A vibrant marketplace that honors our heritage.',
    clientQuote_ar: 'سوق نابض بالحياة يكرم تراثنا.',
    clientName: 'Diriyah Development Authority',
    clientName_ar: 'هيئة تطوير الدرعية',
  },
  'DIRIYAH NATIONAL DAY EVENT': {
    title: 'DIRIYAH NATIONAL DAY EVENT',
    title_ar: 'حدث اليوم الوطني بالدرعية',
    category: 'events',
    category_ar: 'الأحداث',
    subcategory: 'Concept Design',
    subcategory_ar: 'تصميم المفهوم',
    description: 'Grand national day celebration concept design with cultural significance.',
    description_ar: 'تصميم مفهوم احتفالي وطني كبير بأهمية ثقافية.',
    year: '2023',
    client: 'Diriyah Development Authority',
    client_ar: 'هيئة تطوير الدرعية',
    location: 'Diriyah, Saudi Arabia',
    location_ar: 'الدرعية، المملكة العربية السعودية',
    size: '5000 sqm',
    size_ar: '5000 متر مربع',
    duration: '3 months',
    duration_ar: '3 أشهر',
    challenge: 'Creating an immersive cultural experience for thousands of visitors',
    challenge_ar: 'إنشاء تجربة ثقافية غامرة لآلاف الزوار',
    solution: 'Integrated cultural elements with modern event infrastructure',
    solution_ar: 'دمج العناصر الثقافية مع البنية التحتية الحديثة للأحداث',
    features: ['Cultural displays', 'Interactive zones', 'Performance stages', 'Visitor amenities'],
    features_ar: ['عروض ثقافية', 'مناطق تفاعلية', 'مراحل الأداء', 'وسائل الزوار'],
    materials: ['Fabric structures', 'Lighting systems', 'Decorative elements', 'Temporary structures'],
    materials_ar: ['هياكل نسيجية', 'أنظمة الإضاءة', 'عناصر زخرفية', 'هياكل مؤقتة'],
    awards: [],
    awards_ar: [],
    team: ['Event Director: Fatima Al-Dosari', 'Design Lead: Ahmed Al-Rashid'],
    team_ar: ['مدير الحدث: فاطمة الدوسري', 'قائد التصميم: أحمد الراشد'],
    clientQuote: 'An unforgettable celebration of our national pride.',
    clientQuote_ar: 'احتفال لا ينسى بفخرنا الوطني.',
    clientName: 'Diriyah Development Authority',
    clientName_ar: 'هيئة تطوير الدرعية',
  },
  'DIRIYAH PARADE': {
    title: 'DIRIYAH PARADE',
    title_ar: 'موكب الدرعية',
    category: 'events',
    category_ar: 'الأحداث',
    subcategory: 'Parade Design',
    subcategory_ar: 'تصميم الموكب',
    description: 'Spectacular parade design celebrating heritage and culture.',
    description_ar: 'تصميم موكب مذهل يحتفي بالتراث والثقافة.',
    year: '2023',
    client: 'Diriyah Development Authority',
    client_ar: 'هيئة تطوير الدرعية',
    location: 'Diriyah, Saudi Arabia',
    location_ar: 'الدرعية، المملكة العربية السعودية',
    size: '3000 sqm',
    size_ar: '3000 متر مربع',
    duration: '2 months',
    duration_ar: 'شهرين',
    challenge: 'Designing a parade route with cultural storytelling elements',
    challenge_ar: 'تصميم مسار موكب مع عناصر سرد ثقافي',
    solution: 'Integrated themed floats and interactive cultural displays',
    solution_ar: 'عوامات موضوعية مدمجة وعروض ثقافية تفاعلية',
    features: ['Themed floats', 'Cultural displays', 'Interactive elements', 'Spectator areas'],
    features_ar: ['عوامات موضوعية', 'عروض ثقافية', 'عناصر تفاعلية', 'مناطق المتفرجين'],
    materials: ['Decorative materials', 'Lighting', 'Fabric', 'Structural elements'],
    materials_ar: ['مواد زخرفية', 'إضاءة', 'نسيج', 'عناصر هيكلية'],
    awards: [],
    awards_ar: [],
    team: ['Creative Director: Sarah Al-Mutairi', 'Production Manager: Hassan Al-Otaibi'],
    team_ar: ['مدير الإبداع: سارة المطيري', 'مدير الإنتاج: حسن العتيبي'],
    clientQuote: 'A magnificent celebration of our cultural heritage.',
    clientQuote_ar: 'احتفال رائع بتراثنا الثقافي.',
    clientName: 'Diriyah Development Authority',
    clientName_ar: 'هيئة تطوير الدرعية',
  },
  'H & P': {
    title: 'H & P',
    title_ar: 'H & P',
    category: 'residential',
    category_ar: 'سكني',
    subcategory: 'Luxury Residence',
    subcategory_ar: 'إقامة فاخرة',
    description: 'Exclusive luxury residential project with premium finishes and design.',
    description_ar: 'مشروع سكني فاخر حصري مع تشطيبات وتصميم فاخر.',
    year: '2024',
    client: 'Private Client',
    client_ar: 'عميل خاص',
    location: 'Riyadh, Saudi Arabia',
    location_ar: 'الرياض، المملكة العربية السعودية',
    size: '600 sqm',
    size_ar: '600 متر مربع',
    duration: '6 months',
    duration_ar: '6 أشهر',
    challenge: 'Creating a bespoke luxury residence with unique character',
    challenge_ar: 'إنشاء إقامة فاخرة مخصصة بطابع فريد',
    solution: 'Custom design with premium materials and personalized elements',
    solution_ar: 'تصميم مخصص مع مواد فاخرة وعناصر شخصية',
    features: ['Custom design', 'Premium materials', 'Smart home', 'Luxury finishes'],
    features_ar: ['تصميم مخصص', 'مواد فاخرة', 'منزل ذكي', 'تشطيبات فاخرة'],
    materials: ['Italian marble', 'Premium wood', 'Crystal fixtures', 'Brass accents'],
    materials_ar: ['رخام إيطالي', 'خشب فاخر', 'تركيبات كريستالية', 'لمسات نحاسية'],
    awards: [],
    awards_ar: [],
    team: ['Lead Designer: Nora Al-Fahad', 'Project Manager: Ahmed Hassan'],
    team_ar: ['المصمم الرئيسي: نورا الفهد', 'مدير المشروع: أحمد حسن'],
    clientQuote: 'Our dream home brought to life with exceptional craftsmanship.',
    clientQuote_ar: 'تحقيق منزل أحلامنا بحرفية استثنائية.',
    clientName: 'Private Client',
    clientName_ar: 'عميل خاص',
  },
  'Half million': {
    title: 'Half Million Project',
    title_ar: 'مشروع النصف مليون',
    category: 'residential',
    category_ar: 'سكني',
    subcategory: 'Luxury Villa',
    subcategory_ar: 'فيلا فاخرة',
    description: 'Premium luxury villa project with extensive amenities and design excellence.',
    description_ar: 'مشروع فيلا فاخرة متميزة مع وسائل واسعة وتميز التصميم.',
    year: '2024',
    client: 'Private Client',
    client_ar: 'عميل خاص',
    location: 'Riyadh, Saudi Arabia',
    location_ar: 'الرياض، المملكة العربية السعودية',
    size: '1000 sqm',
    size_ar: '1000 متر مربع',
    duration: '10 months',
    duration_ar: '10 أشهر',
    challenge: 'Designing a sprawling luxury villa with multiple functional zones',
    challenge_ar: 'تصميم فيلا فاخرة واسعة مع مناطق وظيفية متعددة',
    solution: 'Comprehensive design strategy with integrated luxury amenities',
    solution_ar: 'استراتيجية تصميم شاملة مع وسائل فاخرة مدمجة',
    features: ['Multiple suites', 'Entertainment areas', 'Spa facilities', 'Smart automation'],
    features_ar: ['أجنحة متعددة', 'مناطق ترفيهية', 'مرافق سبا', 'أتمتة ذكية'],
    materials: ['Premium marble', 'Exotic wood', 'Gold fixtures', 'Crystal elements'],
    materials_ar: ['رخام فاخر', 'خشب غريب', 'تركيبات ذهبية', 'عناصر كريستالية'],
    awards: [],
    awards_ar: [],
    team: ['Lead Designer: Sarah Al-Mutairi', 'Luxury Specialist: Nora Al-Fahad', 'Project Manager: Ahmed Hassan'],
    team_ar: ['المصمم الرئيسي: سارة المطيري', 'متخصص الفخامة: نورا الفهد', 'مدير المشروع: أحمد حسن'],
    clientQuote: 'An extraordinary masterpiece that exceeds all expectations.',
    clientQuote_ar: 'تحفة فنية استثنائية تتجاوز كل التوقعات.',
    clientName: 'Private Client',
    clientName_ar: 'عميل خاص',
  },
  'Modern LuxuryLiving room': {
    title: 'Modern Luxury Living Room',
    title_ar: 'غرفة معيشة فاخرة حديثة',
    category: 'residential',
    category_ar: 'سكني',
    subcategory: 'Living Room Design',
    subcategory_ar: 'تصميم غرفة المعيشة',
    description: 'Contemporary luxury living room with sophisticated design elements.',
    description_ar: 'غرفة معيشة فاخرة معاصرة مع عناصر تصميم متطورة.',
    year: '2024',
    client: 'Private Client',
    client_ar: 'عميل خاص',
    location: 'Riyadh, Saudi Arabia',
    location_ar: 'الرياض، المملكة العربية السعودية',
    size: '100 sqm',
    size_ar: '100 متر مربع',
    duration: '3 months',
    duration_ar: '3 أشهر',
    challenge: 'Creating a sophisticated living space with modern luxury aesthetics',
    challenge_ar: 'إنشاء مساحة معيشة متطورة مع جماليات فاخرة حديثة',
    solution: 'Minimalist design with luxury materials and statement furniture',
    solution_ar: 'تصميم بسيط مع مواد فاخرة وأثاث بيان',
    features: ['Minimalist design', 'Luxury furnishings', 'Statement lighting', 'Premium finishes'],
    features_ar: ['تصميم بسيط', 'أثاث فاخر', 'إضاءة بيان', 'تشطيبات فاخرة'],
    materials: ['Marble', 'Velvet', 'Brass', 'Glass'],
    materials_ar: ['رخام', 'مخمل', 'نحاس', 'زجاج'],
    awards: [],
    awards_ar: [],
    team: ['Lead Designer: Nora Al-Fahad'],
    team_ar: ['المصمم الرئيسي: نورا الفهد'],
    clientQuote: 'A stunning modern luxury space that feels like home.',
    clientQuote_ar: 'مساحة فاخرة حديثة مذهلة تشعر وكأنها منزل.',
    clientName: 'Private Client',
    clientName_ar: 'عميل خاص',
  },
  'QUALITY OF LIFE PROGRAM- NATIONAL DAY EVENT': {
    title: 'QUALITY OF LIFE PROGRAM - NATIONAL DAY EVENT',
    title_ar: 'برنامج جودة الحياة - حدث اليوم الوطني',
    category: 'events',
    category_ar: 'الأحداث',
    subcategory: 'Community Event',
    subcategory_ar: 'حدث مجتمعي',
    description: 'Large-scale community event celebrating quality of life initiatives.',
    description_ar: 'حدث مجتمعي واسع النطاق يحتفي بمبادرات جودة الحياة.',
    year: '2023',
    client: 'Saudi Government',
    client_ar: 'الحكومة السعودية',
    location: 'Riyadh, Saudi Arabia',
    location_ar: 'الرياض، المملكة العربية السعودية',
    size: '10000 sqm',
    size_ar: '10000 متر مربع',
    duration: '4 months',
    duration_ar: '4 أشهر',
    challenge: 'Designing an inclusive event celebrating national initiatives',
    challenge_ar: 'تصميم حدث شامل يحتفي بالمبادرات الوطنية',
    solution: 'Integrated interactive zones with cultural and educational elements',
    solution_ar: 'مناطق تفاعلية مدمجة مع عناصر ثقافية وتعليمية',
    features: ['Interactive zones', 'Educational displays', 'Performance areas', 'Family amenities'],
    features_ar: ['مناطق تفاعلية', 'عروض تعليمية', 'مناطق الأداء', 'وسائل العائلة'],
    materials: ['Modular structures', 'Lighting systems', 'Decorative elements', 'Signage'],
    materials_ar: ['هياكل معيارية', 'أنظمة الإضاءة', 'عناصر زخرفية', 'لافتات'],
    awards: [],
    awards_ar: [],
    team: ['Event Director: Fatima Al-Dosari', 'Design Lead: Ahmed Al-Rashid', 'Coordinator: Noor Al-Saud'],
    team_ar: ['مدير الحدث: فاطمة الدوسري', 'قائد التصميم: أحمد الراشد', 'المنسق: نور آل سعود'],
    clientQuote: 'A celebration that brought the community together.',
    clientQuote_ar: 'احتفال جمع المجتمع معاً.',
    clientName: 'Saudi Government',
    clientName_ar: 'الحكومة السعودية',
  },
  'RAFAL APARTMENT': {
    title: 'RAFAL APARTMENT',
    title_ar: 'شقة رفال',
    category: 'residential',
    category_ar: 'سكني',
    subcategory: 'Apartment Design',
    subcategory_ar: 'تصميم الشقة',
    description: 'Contemporary apartment design with modern aesthetics and functionality.',
    description_ar: 'تصميم شقة معاصر مع جماليات وظيفية حديثة.',
    year: '2023',
    client: 'Private Resident',
    client_ar: 'ساكن خاص',
    location: 'Riyadh, Saudi Arabia',
    location_ar: 'الرياض، المملكة العربية السعودية',
    size: '350 sqm',
    size_ar: '350 متر مربع',
    duration: '3 months',
    duration_ar: '3 أشهر',
    challenge: 'Maximizing space while maintaining luxury and comfort',
    challenge_ar: 'تعظيم المساحة مع الحفاظ على الفخامة والراحة',
    solution: 'Smart space planning with premium finishes and custom furniture',
    solution_ar: 'تخطيط ذكي للمساحة مع تشطيبات فاخرة وأثاث مخصص',
    features: ['Open plan', 'Custom storage', 'Modern kitchen', 'Luxury finishes'],
    features_ar: ['خطة مفتوحة', 'تخزين مخصص', 'مطبخ حديث', 'تشطيبات فاخرة'],
    materials: ['Marble', 'Wood', 'Glass', 'Stainless steel'],
    materials_ar: ['رخام', 'خشب', 'زجاج', 'فولاذ مقاوم للصدأ'],
    awards: [],
    awards_ar: [],
    team: ['Lead Designer: Sarah Al-Mutairi'],
    team_ar: ['المصمم الرئيسي: سارة المطيري'],
    clientQuote: 'A perfect blend of style and functionality.',
    clientQuote_ar: 'مزيج مثالي من الأسلوب والوظيفة.',
    clientName: 'Private Resident',
    clientName_ar: 'ساكن خاص',
  },
  'REC. HEAVEN': {
    title: 'REC. HEAVEN',
    title_ar: 'جنة الترفيه',
    category: 'residential',
    category_ar: 'سكني',
    subcategory: 'Recreation Space',
    subcategory_ar: 'مساحة ترفيهية',
    description: 'Luxurious recreation space designed for relaxation and entertainment.',
    description_ar: 'مساحة ترفيهية فاخرة مصممة للاسترخاء والترفيه.',
    year: '2023',
    client: 'Private Client',
    client_ar: 'عميل خاص',
    location: 'Riyadh, Saudi Arabia',
    location_ar: 'الرياض، المملكة العربية السعودية',
    size: '500 sqm',
    size_ar: '500 متر مربع',
    duration: '4 months',
    duration_ar: '4 أشهر',
    challenge: 'Creating a space that balances luxury with functionality',
    challenge_ar: 'إنشاء مساحة توازن بين الفخامة والوظيفة',
    solution: 'Integrated modern design elements with premium materials',
    solution_ar: 'دمج عناصر التصميم الحديث مع المواد الفاخرة',
    features: ['Modern Aesthetics', 'Premium Materials', 'Functional Layout', 'Ambient Lighting'],
    features_ar: ['جماليات حديثة', 'مواد فاخرة', 'تخطيط وظيفي', 'إضاءة محيطة'],
    materials: ['Marble', 'Wood', 'Glass', 'Steel'],
    materials_ar: ['رخام', 'خشب', 'زجاج', 'فولاذ'],
    awards: [],
    awards_ar: [],
    team: ['Lead Designer: Sarah Al-Mutairi'],
    team_ar: ['المصمم الرئيسي: سارة المطيري'],
    clientQuote: 'A perfect retreat for relaxation and entertainment.',
    clientQuote_ar: 'ملاذ مثالي للاسترخاء والترفيه.',
    clientName: 'Private Client',
    clientName_ar: 'عميل خاص',
  },
  'RSG BOOTH': {
    title: 'RSG BOOTH',
    title_ar: 'كشك RSG',
    category: 'booths',
    category_ar: 'الأكشاك',
    subcategory: 'Exhibition Design',
    subcategory_ar: 'تصميم المعارض',
    description: 'Innovative exhibition booth design showcasing brand identity and engagement.',
    description_ar: 'تصميم كشك معرض مبتكر يعرض هوية العلامة التجارية والمشاركة.',
    year: '2023',
    client: 'RSG Company',
    client_ar: 'شركة RSG',
    location: 'Riyadh, Saudi Arabia',
    location_ar: 'الرياض، المملكة العربية السعودية',
    size: '200 sqm',
    size_ar: '200 متر مربع',
    duration: '2 months',
    duration_ar: 'شهرين',
    challenge: 'Designing an eye-catching booth that stands out in a crowded exhibition',
    challenge_ar: 'تصميم كشك جذاب يبرز في معرض مزدحم',
    solution: 'Bold colors, interactive elements, and strategic lighting',
    solution_ar: 'ألوان جريئة وعناصر تفاعلية وإضاءة استراتيجية',
    features: ['Interactive Display', 'Brand Integration', 'Modular Design', 'LED Lighting'],
    features_ar: ['عرض تفاعلي', 'تكامل العلامة التجارية', 'تصميم معياري', 'إضاءة LED'],
    materials: ['Aluminum', 'LED Panels', 'Fabric', 'Acrylic'],
    materials_ar: ['ألومنيوم', 'لوحات LED', 'نسيج', 'أكريليك'],
    awards: [],
    awards_ar: [],
    team: ['Lead Designer: Nora Al-Fahad', 'Booth Specialist: Hassan Al-Otaibi'],
    team_ar: ['المصمم الرئيسي: نورا الفهد', 'متخصص الكشك: حسن العتيبي'],
    clientQuote: 'A booth that truly represents our brand.',
    clientQuote_ar: 'كشك يمثل علامتنا التجارية بحق.',
    clientName: 'RSG Company',
    clientName_ar: 'شركة RSG',
  },
};

// Function to get image from project folder
function getProjectImage(projectName) {
  const projectPath = path.join(projectsDir, projectName);
  if (!fs.existsSync(projectPath)) return null;
  
  // Look for image files in subdirectories
  const subdirs = fs.readdirSync(projectPath);
  for (const subdir of subdirs) {
    const subdirPath = path.join(projectPath, subdir);
    if (fs.statSync(subdirPath).isDirectory()) {
      const files = fs.readdirSync(subdirPath);
      const imageFile = files.find(f => /\.(jpg|jpeg|png|webp)$/i.test(f));
      if (imageFile) {
        return `/TRQ STUDIO _ PROJECTS/${projectName}/${subdir}/${imageFile}`;
      }
    }
  }
  return null;
}

// Function to seed projects
export async function seedDefaultProjects() {
  try {
    // Check if projects already exist
    const existingCount = db.prepare('SELECT COUNT(*) as count FROM projects').get();
    if (existingCount.count > 0) {
      console.log(`Projects already exist (${existingCount.count}). Skipping seed.`);
      return;
    }

    console.log('Seeding default projects from TRQ STUDIO _ PROJECTS...');
    
    const stmt = db.prepare(`
      INSERT INTO projects (
        title, title_ar, category, category_ar, subcategory, subcategory_ar,
        description, description_ar, image, year, client, client_ar,
        location, location_ar, size, size_ar, duration, duration_ar,
        challenge, challenge_ar, solution, solution_ar,
        features, features_ar, materials, materials_ar,
        awards, awards_ar, team, team_ar,
        clientQuote, clientQuote_ar, clientName, clientName_ar, status
      ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `);

    let seededCount = 0;
    for (const [folderName, metadata] of Object.entries(projectsMetadata)) {
      const image = getProjectImage(folderName) || 'https://images.unsplash.com/photo-1669387448840-610c588f003d?w=1080';
      
      stmt.run(
        metadata.title,
        metadata.title_ar,
        metadata.category,
        metadata.category_ar,
        metadata.subcategory,
        metadata.subcategory_ar,
        metadata.description,
        metadata.description_ar,
        image,
        metadata.year,
        metadata.client,
        metadata.client_ar,
        metadata.location,
        metadata.location_ar,
        metadata.size,
        metadata.size_ar,
        metadata.duration,
        metadata.duration_ar,
        metadata.challenge,
        metadata.challenge_ar,
        metadata.solution,
        metadata.solution_ar,
        JSON.stringify(metadata.features),
        JSON.stringify(metadata.features_ar),
        JSON.stringify(metadata.materials),
        JSON.stringify(metadata.materials_ar),
        JSON.stringify(metadata.awards),
        JSON.stringify(metadata.awards_ar),
        JSON.stringify(metadata.team),
        JSON.stringify(metadata.team_ar),
        metadata.clientQuote,
        metadata.clientQuote_ar,
        metadata.clientName,
        metadata.clientName_ar,
        'published'
      );
      seededCount++;
      console.log(`✓ Seeded: ${metadata.title}`);
    }

    console.log(`\n✓ Successfully seeded ${seededCount} projects!`);
  } catch (error) {
    console.error('Error seeding projects:', error);
    throw error;
  }
}

// Run if executed directly
if (import.meta.url === `file://${process.argv[1]}`) {
  seedDefaultProjects().then(() => {
    console.log('Seed complete!');
    process.exit(0);
  }).catch(err => {
    console.error('Seed failed:', err);
    process.exit(1);
  });
}

export default seedDefaultProjects;
